---
layout: base
---

<div class="wiki-container">

  <!-- 사이드바 -->
  <aside class="wiki-sidebar">

    {% assign pages = site.pages
      | where: "wiki_name", "java"
      | where: "layout", "wiki"
      | sort: "order"
    %}

    <div class="wiki-title">Java Wiki</div>

    <ul class="wiki-list">

      {% assign level1 = pages | where: "parent", "java" %}
      {% for l1 in level1 %}
        <li>
          {% assign level2_parent = "java/" | append: l1.title %}
          {% assign level2 = pages | where: "parent", level2_parent %}

          {% if level2.size > 0 %}
            <!-- level1에 자식 있음 → 접는 메뉴 -->
            <details {% if page.url == l1.url or page.url contains l1.url %}open{% endif %}>
              <summary>{{ l1.title }}</summary>
              <ul>
                {% for l2 in level2 %}
                  <li>
                    {% assign level3_parent = level2_parent | append: "/" | append: l2.title %}
                    {% assign level3 = pages | where: "parent", level3_parent %}

                    {% if level3.size > 0 %}
                      <!-- level2에 자식 있음 → 접는 메뉴 -->
                      <details {% if page.url == l2.url or page.url contains l2.url %}open{% endif %}>
                        <summary>{{ l2.title }}</summary>
                        <ul>
                          {% for l3 in level3 %}
                            <li>
                              <a href="{{ l3.url | relative_url }}" {% if page.url == l3.url %}class="active"{% endif %}>
                                {{ l3.title }}
                              </a>
                            </li>
                          {% endfor %}
                        </ul>
                      </details>
                    {% else %}
                      <!-- level2 자식 없음 → 그냥 링크 -->
                      <a href="{{ l2.url | relative_url }}" {% if page.url == l2.url %}class="active"{% endif %}>
                        {{ l2.title }}
                      </a>
                    {% endif %}

                  </li>
                {% endfor %}
              </ul>
            </details>
          {% else %}
            <!-- level1 자식 없음 → 그냥 표시 -->
            <span class="level-1">{{ l1.title }}</span>
          {% endif %}

        </li>
      {% endfor %}

    </ul>

  </aside>

  <!-- 본문 -->
  <main class="wiki-content">
    {{ content }}
  </main>

</div>
