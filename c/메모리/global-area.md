---
layout: wiki
title: 전역 영역
wiki_name: c
parent: c/메모리
order: 4
---

# 전역 영역 (Data / BSS)

## 전역 영역이란?

**전역 영역(Global Area)** 은

**프로그램이 시작될 때 생성되고, 프로그램이 종료될 때까지 유지되는 메모리 영역**이다.

* 함수 **밖**에서 선언된 변수
* `static` 키워드가 붙은 전역 변수
* `static` 지역 변수

이 영역의 변수들은

**프로그램 전체에서 접근 가능**하거나

**값을 계속 유지**해야 할 때 사용된다.

---

## 전역 영역의 구성

전역 영역은 크게 두 부분으로 나뉜다.

```
전역 영역
 ├ Data 영역
 └ BSS 영역
```

---

## Data 영역

### Data 영역이란?

**초기값이 있는 전역 변수 / static 변수**가 저장되는 영역이다.

즉, **선언과 동시에 값이 주어진 변수**가 들어간다.

---

### Data 영역 예제

```c
#include <stdio.h>

int a = 10;        // 전역 변수 (초기값 있음)
static int b = 5; // static 전역 변수

int main() {
    printf("%d %d\n", a, b);
    return 0;
}
```

`a`, `b` → **Data 영역**

프로그램 시작과 동시에 메모리에 올라감

프로그램 종료 시까지 유지됨

---

### Data 영역 특징

* 프로그램 시작 시 메모리 할당
* 초기값을 **이미 가지고 있음**
* 프로그램 전체에서 사용 가능
* 크기 고정

---

## BSS 영역

### BSS 영역이란?

**초기값이 없는 전역 변수 / static 변수**가 저장되는 영역이다.

> 컴파일러가 자동으로 `0`으로 초기화한다.

---

### BSS 영역 예제

```c
#include <stdio.h>

int x;            // 초기값 없음 → 0
static int y;     // 초기값 없음 → 0

int main() {
    printf("%d %d\n", x, y);
    return 0;
}
```

`x`, `y` → **BSS 영역**

직접 초기화하지 않아도 `0`

---

### BSS 영역 특징

* 프로그램 시작 시 메모리 할당
* 자동으로 0으로 초기화
* 프로그램 전체에서 접근 가능
* 실행 파일 크기를 줄이기 위해 분리됨

---

## Data 영역 vs BSS 영역

| 구분     | Data 영역          | BSS 영역           |
| ------ | ---------------- | ---------------- |
| 초기값    | 있음               | 없음               |
| 초기화    | 사용자가 직접          | 자동으로 0           |
| 저장 대상  | 전역 변수, static 변수 | 전역 변수, static 변수 |
| 메모리 시점 | 프로그램 시작          | 프로그램 시작          |

---

## 전역 변수 사용 예시

```c
#include <stdio.h>

int count = 0; // 전역 변수

void increase() {
    count++;
}

int main() {
    increase();
    increase();
    printf("%d\n", count); // 2
    return 0;
}
```

함수 호출이 끝나도 값 유지

스택과 가장 큰 차이점

---

## static 지역 변수와 전역 영역

```c
#include <stdio.h>

void func() {
    static int x = 0;
    x++;
    printf("%d\n", x);
}

int main() {
    func(); // 1
    func(); // 2
    func(); // 3
    return 0;
}
```

`x`는 함수 안에 있지만

**전역 영역(Data 영역)** 에 저장됨

함수가 끝나도 값 유지

---

## 전역 영역 사용 시 주의점

❌ 남용하면 안 되는 이유

* 어디서 값이 바뀌는지 추적 어려움
* 디버깅 난이도 상승
* 코드 의존성 증가

✔ 보통 이런 경우에 사용

* 프로그램 전체에서 공유해야 하는 값
* 설정 값
* 상태 값 (카운트, 플래그 등)

---

## 메모리 구조 전체 정리

```
메모리 구조
 ├ 코드 영역      : 실행할 코드
 ├ 전역 영역
 │   ├ Data 영역  : 초기값 있음
 │   └ BSS 영역   : 초기값 없음
 ├ 스택(Stack)    : 함수, 지역 변수
 └ 힙(Heap)       : 동적 메모리
```

---

## 정리

* 전역 영역은 **프로그램 전체 수명**
* Data 영역 → 초기값 있음
* BSS 영역 → 초기값 없음 (0)
* static 변수도 전역 영역에 저장됨
* 편하지만 남용은 위험
