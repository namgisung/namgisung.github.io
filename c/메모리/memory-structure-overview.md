---
layout: wiki
title: 메모리 구조 개요
wiki_name: c
parent: c/메모리
order: 1
---

## 메모리 구조 개요

프로그램이 실행되면 운영체제는 해당 프로그램을 위해 **메모리 공간을 나누어 할당**한다.

C언어에서 사용하는 메모리는 용도에 따라 크게 다음과 같은 영역으로 구분된다.

* **스택(Stack)**
* **힙(Heap)**
* **전역 영역(Global / Static 영역)**

각 영역은 **저장되는 데이터의 종류와 생존 시간**이 다르며, 이 차이를 이해하는 것이 포인터와 동적 메모리를 이해하는 핵심이다.

---

### 왜 메모리를 나눌까?

모든 데이터를 한 공간에 막 넣으면 다음과 같은 문제가 생긴다.

* 어떤 데이터가 언제 사라져야 하는지 알 수 없음
* 함수 호출이 많아질수록 관리가 어려워짐
* 메모리 낭비 및 충돌 발생

그래서 C언어는 데이터를 성격에 따라 **자동으로 관리되는 영역**과 **프로그래머가 직접 관리해야 하는 영역**으로 나눈다.

---

### 메모리 구조 한눈에 보기

```
[ 전역 영역 ]  ← 프로그램 시작 ~ 종료까지 유지
----------------
[ 힙 영역 ]    ← 프로그래머가 직접 관리 (malloc / free)
----------------
[ 스택 영역 ]  ← 함수 호출 시 생성, 종료 시 자동 해제
```

---

### 각 영역의 핵심 차이

| 구분    | 저장되는 데이터        | 생성/해제 시점      | 특징           |
| ----- | --------------- | ------------- | ------------ |
| 스택    | 지역변수, 매개변수      | 함수 호출 / 종료    | 자동 관리, 빠름    |
| 힙     | 동적 메모리          | malloc / free | 크기 유연, 직접 관리 |
| 전역 영역 | 전역변수, static 변수 | 프로그램 시작 / 종료  | 항상 유지        |
